{"openapi":"3.0.0","info":{"title":"Api WhatToCook","version":"1.0.0"},"paths":{"/allergy":{"get":{"tags":["Allergies"],"responses":{"200":{"$ref":"#/components/responses/AllergiesFound"},"404":{"$ref":"#/components/responses/AllergiesNotFound"},"500":{"description":"Erreur serveur"}}},"post":{"tags":["Allergies"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/AllergyAAjoute"},"responses":{"201":{"$ref":"#/components/responses/NewAllergyCreated"},"400":{"description":"Nom de l'allergie manquant"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/MustBeAdmin"},"500":{"description":"Erreur serveur"}}},"patch":{"tags":["Allergies"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/AllergyAUpdate"},"responses":{"204":{"$ref":"#/components/responses/AllergyUpdated"},"400":{"description":"Données minimales manquantes"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/MustBeAdmin"},"500":{"description":"Erreur serveur"}}},"delete":{"tags":["Allergies"],"security":[{"bearerAuth":[]}],"responses":{"204":{"$ref":"#/components/responses/AllergyDeleted"},"400":{"description":"Données minimales manquantes"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/MustBeAdmin"},"500":{"description":"Erreur serveur"}}}},"/allergy/{id}":{"get":{"tags":["Allergies"],"parameters":[{"name":"id","description":"ID d'un produit","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/AllergiesIdFound"},"400":{"description":"ID de l'allergie manquant"},"404":{"$ref":"#/components/responses/AllergiesIdNotFound"},"500":{"description":"Erreur serveur"}}}},"/food":{"get":{"tags":["Foods"],"responses":{"200":{"$ref":"#/components/responses/FoodsFound"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/MustBeAdmin"},"404":{"$ref":"#/components/responses/FoodsNotFound"},"500":{"description":"Erreur serveur"}}},"post":{"tags":["Foods"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/FoodAAjoute"},"responses":{"201":{"$ref":"#/components/responses/NewFoodCreated"},"400":{"description":"Nom de l'allergie manquant"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/MustBeAdmin"},"500":{"description":"Erreur serveur"}}},"patch":{"tags":["Foods"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/FoodAUpdate"},"responses":{"204":{"$ref":"#/components/responses/FoodUpdated"},"400":{"description":"Données minimales manquantes"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/MustBeAdmin"},"500":{"description":"Erreur serveur"}}},"delete":{"tags":["Foods"],"security":[{"bearerAuth":[]}],"responses":{"204":{"$ref":"#/components/responses/FoodDeleted"},"400":{"description":"Données minimales manquantes"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/MustBeAdmin"},"500":{"description":"Erreur serveur"}}}}},"components":{"schemas":{"Allergy":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string","description":"nom de l'allergie"}}},"Foods":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"isValidated":{"type":"boolean","description":"Si l'aliment a été validé par l'admin"},"price":{"type":"number"},"idAllergy":{"type":"integer","description":"l'id de l'allergie liée à cet aliment"}}}},"responses":{"AllergiesNotFound":{"description":"Aucune allergies ne se trouve dans la table Allergy"},"AllergiesFound":{"description":"Renvoie le tableau des allergies","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Allergy"}}}},"AllergiesIdNotFound":{"description":"Aucune allergies avec cette ID ne se trouve dans la table Allergy"},"AllergiesIdFound":{"description":"Renvoie l'allergie correspondante","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Allergy"}}}},"NewAllergyCreated":{"description":"Aucune allergies ne se trouve dans la table Allergy"},"AllergyUpdated":{"description":"l'allergie cible a bien été mise à jour"},"AllergyDeleted":{"description":"Suppression bien effectuée"},"FoodsNotFound":{"description":"Aucune aliment ne se trouve dans la table Food"},"FoodsFound":{"description":"Renvoie le tableau de tous les aliments","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Foods"}}}},"NewFoodCreated":{"description":"Aliment crée"},"FoodUpdated":{"description":"l'allergie cible a bien été mise à jour"},"FoodDeleted":{"description":"Suppression bien effectuée"},"MustBeAdmin":{"description":"L'action demandée ne peut être réalisée que par un admin"},"ErrorJWT":{"description":"le JWT n'est pas valide"},"MissingJWT":{"description":"le JWT n'est pas présent"}},"requestBodies":{"AllergyAAjoute":{"content":{"application/json":{"schema":{"properties":{"name":{"type":"string"}}}}}},"AllergyAUpdate":{"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"id":{"type":"integer"}}}}}},"FoodAAjoute":{"content":{"application/json":{"schema":{"properties":{"name":{"type":"string"},"allergy":{"type":"string","description":"l'id de l'allergie liée à cet aliment"}}}}}},"FoodAUpdate":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"allergy":{"type":"integer","description":"l'id de l'allergie liée à cet aliment"}}}}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}},"tags":[]}